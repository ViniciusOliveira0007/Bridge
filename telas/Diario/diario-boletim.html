<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diário - Boletim</title>
    <link rel="stylesheet" href="./css-diario/estilos_diario.css">
    <link rel="stylesheet" href="./css-diario/estilo_diario-boletim.css">
</head>
<body>

    <nav class="navegacao">
        <div class="menu">
            <div class="menu-1">
                <img src="./imagens-diario/lotus.svg" alt="Logo da instituição" class="projeto" width="30px" height="30px">
            </div>

            <div class="menu-2">
                <input type="text" placeholder="Pesquise aqui...">
            </div> 

            <div class="menu-3">
                <img src="./imagens-diario/sininho.svg" alt="notificação" class="btn-notificao-nav">
                <img src="./imagens-diario/configuracao.svg" alt="botão de configuração" class="btn-config">
                <img src="./imagens-diario/foto_de_perfil.png" alt="imagem de perfil" class="foto-de-perfil" id="fotoPerfil">
                
                <div class="dropdown-notificacoes" id="dropdownNotif">
                    <div class="dropdown-header">
                        <div class="dropdown-titulo">
                            <img src="./imagens-diario/sino-black.svg" alt="Notificação">
                            <span>Notificações</span>
                        </div>
                        <button class="btn-fechar" data-action="fechar-notif">&times;</button>
                    </div>
                    <div class="dropdown-opcoes">
                        <div class="notificacao-vazia">Nenhuma notificação no momento</div>
                    </div>
                </div>

                <div class="dropdown-configuracoes" id="dropdownConfig">
                    <div class="dropdown-header">
                        <div class="dropdown-titulo">
                            <img src="./imagens-diario/configuracao-black.svg" alt="Configuração">
                            <span>Configurações</span>  
                        </div>
                        <button class="btn-fechar" data-action="fechar-config">&times;</button>
                    </div>
                    <div class="dropdown-opcoes">
                        <button class="opcao-item" data-action="abrir-tema">Tema</button>
                        <button class="opcao-item" data-action="abrir-acessibilidade">Acessibilidade</button>
                        <button class="opcao-item" data-action="abrir-opcoes-avancadas">Opções avançadas</button>
                    </div>
                </div>

                <div class="dropdown-perfil" id="dropdownPerfil">
                    <div class="dropdown-header">
                        <div class="dropdown-titulo">
                            <img src="./imagens-diario/foto_de_perfil.png" alt="Perfil" class="perfil-mini">
                            <span id="nomeUsuarioPerfil">Olá, Carregando...</span>
                        </div>
                        <button class="btn-fechar" data-action="fechar-perfil">&times;</button>
                    </div>
                    <div class="dropdown-opcoes">
                        <button class="opcao-item" data-action="abrir-seu-perfil">Seu perfil</button>
                        <button class="opcao-item" data-action="abrir-privacidade">Privacidade</button>
                        <button class="opcao-item" data-action="abrir-ajuda-recursos">Ajuda e Recursos</button>
                        <button class="opcao-item sair-conta" data-action="sair-da-conta">Sair da Conta</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <div class="nome-da-guia">
        <ul>
            <li><a href="../Rede/connect.html">Redes</a></li>
            <li><a href="../Sala-de-Aula/sala.html">Sala de Aula</a></li>
            <li><a href="../Trilhas/trilhas.html">Trilhas</a></li>
            <li><a href="diario.html">Diário</a></li>
        </ul>
    </div>

    <main class="conteudo-principal">
        <div class="bloco-de-conteudo-boletim">
            <div class="sub-guia-diario-boletim">
                <a class="btn-sub-guia-boletim" href="diario.html">Início</a>
                <a class="btn-sub-guia-boletim" href="diario-aulas.html">Aula e Faltas</a>
                <a class="btn-sub-guia-boletim" href="diario-cronograma.html">Cronograma</a>
                <a class="btn-sub-guia-boletim" href="diario-boletim.html">Boletim</a>
                <a class="btn-sub-guia-boletim" href="diario-turma.html">Turma</a>
                <a class="btn-sub-guia-boletim" href="diario-professor.html">Professores</a>
            </div>
        </div>

        <div class="bloco-de-conteudo2">  
            <div class="bloco-boletim">
                <div class="frame-476">
                    <div class="titulo-tabela">
                        <div class="boletim-2025-2-modulo">BOLETIM 2025 - 2ª MODULO</div>
                    </div>
                    <div class="frame-569">
                        <div class="bloco-tabela">
                            <table class="tabela">
                                <tr>
                                    <th class="titulo-guia">COMPONENTE CURRICULAR</th>
                                    <th class="titulo-guia">1ª Sínteses</th>
                                    <th class="titulo-guia">2ª Sínteses</th>
                                    <th class="titulo-guia">Final</th>
                                    <th class="titulo-guia">C.H.</th>
                                    <th class="titulo-guia">Aulas</th>
                                    <th class="titulo-guia">Faltas</th>
                                    <th class="titulo-guia">Situação</th>
                                    <th class="titulo-guia">Freq %</th>
                                </tr>
                                <tr>
                                    <td>ANÁLISE E PROJETO DE SISTEMAS</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>25</td>
                                    <td>999</td>
                                    <td>999</td>
                                    <td>CURSANDO</td>
                                    <td>100%</td>
                                </tr>
                                <tr>
                                    <td>BANCO DE DADOS II</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>25</td>
                                    <td>999</td>
                                    <td>999</td>
                                    <td>CURSANDO</td>
                                    <td>100%</td>
                                </tr>
                                <tr>
                                    <td>DESENVOLVIMENTO DE SISTEMAS I</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>25</td>
                                    <td>999</td>
                                    <td>999</td>
                                    <td>CURSANDO</td>
                                    <td>100%</td>
                                </tr>
                                <tr>
                                    <td>PLANEJAMENTO DO TRABALHO DE CONCLUSÃO DE CURSO (TCC)</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>25</td>
                                    <td>999</td>
                                    <td>999</td>
                                    <td>CURSANDO</td>
                                    <td>100%</td>
                                </tr>
                                <tr>
                                    <td>PROGRAMAÇÃO DE APLICATIVOS MOBILE I</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>25</td>
                                    <td>999</td>
                                    <td>999</td>
                                    <td>CURSANDO</td>
                                    <td>100%</td>
                                </tr>
                                <tr>
                                    <td>PROGRAMAÇÃO WEB II</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>25</td>
                                    <td>999</td>
                                    <td>999</td>
                                    <td>CURSANDO</td>
                                    <td>100%</td>
                                </tr>
                                <tr>
                                    <td>SISTEMAS EMBARCADOS</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>MB</td>
                                    <td>25</td>
                                    <td>999</td>
                                    <td>999</td>
                                    <td>CURSANDO</td>
                                    <td>100%</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    
    <script>
        // --- SCRIPT UNIFICADO DE PERFIL ---
        document.addEventListener('DOMContentLoaded', function() {
            let userData = JSON.parse(localStorage.getItem('user') || 'null');
            if (!userData) {
                userData = JSON.parse(localStorage.getItem('usuarioLogado') || '{}');
            }

            if (userData && userData.name) {
                document.getElementById('nomeUsuarioPerfil').textContent = `Olá, ${userData.name}`;
                
                const fotoPerfil = document.getElementById('fotoPerfil');
                const perfilMini = document.querySelector('.perfil-mini');
                
                if (userData.perfilUrl) {
                    const url = `http://localhost:3000${userData.perfilUrl}`;
                    if(fotoPerfil) fotoPerfil.src = url;
                    if(perfilMini) perfilMini.src = url;
                }
            }
            
            // Dropdowns
            const btns = {
                notif: document.querySelector('.btn-notificao-nav'),
                config: document.querySelector('.btn-config'),
                perfil: document.querySelector('.foto-de-perfil')
            };
            const drops = {
                notif: document.getElementById('dropdownNotif'),
                config: document.getElementById('dropdownConfig'),
                perfil: document.getElementById('dropdownPerfil')
            };

            function fecharTodos() { Object.values(drops).forEach(d => d.classList.remove('ativo')); }

            if(btns.notif) btns.notif.onclick = (e) => { e.stopPropagation(); const ab = drops.notif.classList.contains('ativo'); fecharTodos(); if(!ab) drops.notif.classList.add('ativo'); };
            if(btns.config) btns.config.onclick = (e) => { e.stopPropagation(); const ab = drops.config.classList.contains('ativo'); fecharTodos(); if(!ab) drops.config.classList.add('ativo'); };
            if(btns.perfil) btns.perfil.onclick = (e) => { e.stopPropagation(); const ab = drops.perfil.classList.contains('ativo'); fecharTodos(); if(!ab) drops.perfil.classList.add('ativo'); };
            
            document.querySelectorAll('.btn-fechar').forEach(b => b.onclick = fecharTodos);
            window.onclick = () => fecharTodos();

            // Logout
            const btnSair = document.querySelector('.sair-conta');
            if(btnSair) {
                btnSair.onclick = () => { if(confirm('Sair?')) { localStorage.removeItem('user'); window.location.href = '/public/home.html'; } }
            }
        });
    </script>
</body>
</html>